!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r,a;n(1);r=async function(t,e,{ttl:n,raw:r,extra:a}={}){var u,i,o;return null==n&&(n=60),null==a&&(a={}),u=fetch(t,{method:e,cf:n>0?{cacheTtl:n}:void 0,headers:{"Content-Type":"application/json"}}.merge(a)),r?u:(o=await u,i=f(o.status),u=await async function(){try{return JSON.parse(await o.text())}catch(t){return i=t,null}}(),[i,u])};var u=function(t,e={}){return r(t,"GET",e)},i=function(t,e,n={}){return r(t,"POST",{extra:{body:JSON.stringify(e)}}.merge(n))};a=function(t,e){return new Response(JSON.stringify(t,void 0,2),{status:e,headers:{"Content-Type":"application/json","Accept-Encoding":"gzip"}})};var o,s=function(t=500,e="Internal Error",n=null){return a({status:t,message:e+(n?` - ${n}`:"")},t)},c=function(t=null){return s(404,"Not Found",t)},l=function(t=null){return s(400,"Invalid Request",t)},f=function(t){switch(t){case 200:return null;case 204:return c();case 400:return l();case 429:return function(t=null){return s(429,"Too Many Requests",t)}();default:return s()}};o=function(t){return(t.toInt(7)^t.toInt(15)^t.toInt(23)^t.toInt(31))%2!=0};var d,p=async function(t){var e,n,r,a;return(n=t.asUuid())?[null,n]:(a=t.asUsername())?([e,r]=await function(t,e=-1){return u(`https://api.mojang.com/users/profiles/minecraft/${t}${e>=0?`?at=${e}`:""}`)}(a),[e,null!=r?r.id:void 0]):[l(`Malformed UUID or Username '${t}'`),null]},m=async function(t){var e,n,r,i,s,c,l;return[e,r]=await async function(t){var e,n,r;return[e,n]=await u(`https://sessionserver.mojang.com/session/minecraft/profile/${t}`),e||((r=JSON.parse(atob(n.properties[0].value)).textures).isEmpty()&&(r=o(t)?{SKIN:{url:"http://textures.minecraft.net/texture/83cee5ca6afcdb171285aa00e8049c297b2dbeba0efb8ff970a5677a1b644032",metadata:{model:"slim"}}}:{SKIN:{url:"http://textures.minecraft.net/texture/dc1c77ce8e54925ab58125446ec53b0cdd3d0ca3db273eb908d5482787ef4016"}}),n.textures=r),[e,n]}(t),e||([e,n]=await function(t){return u(`https://api.mojang.com/user/profiles/${t}/names`)}(t),e)?[e,null]:[null,function(t){return a(t,200)}({uuid:t=r.id,uuid_dashed:t.asUuid({dashed:!0}),username:r.name,username_history:n.map(function(t){var e;return{username:t.name,changed_at:null!=(e=t.changedToAt)?e.asDate():void 0}}),textures:{skin:null!=(i=r.textures.SKIN)?i.url:void 0,cape:null!=(s=r.textures.CAPE)?s.url:void 0,slim:"slim"===(null!=(c=r.textures.SKIN)&&null!=(l=c.metadata)?l.model:void 0)},cached_at:new Date})]},h=function(t,e){return Math.random()<.1?i("https://us-central1-stratus-197318.cloudfunctions.net/avatar",{id:t,size:e},{raw:!0,ttl:86400}):function(t){return r(t=new URL(t),"GET",{raw:!0,extra:{cf:{resolveOverride:t.hostname}}})}(`https://avatar.ashcon.app/${t.asUuid({dashed:!0})}/256@2x.png`)};addEventListener("fetch",function(t){return t.respondWith(d(t.request))}),d=async function(t){var e,n,r,a,u,i;return[e,u,a,r]=t.url.split("/").slice(3,7),"minecraft"===e&&null!=a&&([n,a]=await p(a),n||("user"===u?[n,i]=await m(a):"avatar"===u&&(i=h(a,r)))),n||i||c("Unknown Route")}},function(t,e){var n,r;String.prototype.toInt=function(t=0){var e;return(e=this.charCodeAt(t))>=97?e-87:e-48},Object.prototype.merge=function(t){return Object.assign({},this,t)},String.prototype.asUuid=function({dashed:t}={}){var e,n;if(null==t&&(t=!1),e=r.exec(this))return n=e.slice(1).join(""),t?[n.substring(0,8),n.substring(8,12),n.substring(12,16),n.substring(16,20),n.substring(20,32)].join("-"):n},r=/^([0-9a-f]{8})(?:-|)([0-9a-f]{4})(?:-|)(4[0-9a-f]{3})(?:-|)([0-9a-f]{4})(?:-|)([0-9a-f]{12})$/i,String.prototype.asUsername=function(){return!!n.test(this)&&this},n=/^[0-9A-Za-z_]{1,16}$/i,String.prototype.asJson=function(){try{return JSON.parse(this)}catch(t){return!1}},Number.prototype.asDate=function(){return new Date(Math.floor(this))},Object.prototype.isEmpty=function(){return 0===Object.keys(this).length}}]);